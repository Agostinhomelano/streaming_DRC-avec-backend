<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire de paiement</title>
    <style>
        body{
        font-family: Arial, sans-serif;
        color: white;
        background: url(/static/image/backgroud.jpg) no-repeat center center/cover;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        flex-wrap: wrap;
        align-items: center;
        padding: 10% 0;
        }
        .bloc{
            background: rgba(255,255,255,0.15);
            border-radius: 20px;
            padding: 20px ;
        }
        h1{
            color: red;
        }
        /* Conteneur du select */
        .select-container {
        display: flex;
        flex-direction: column;
        color: white;
        font-family: Arial, sans-serif;
        width: 100%;
        }

        /* Style du label */
        .select-container label {
        margin-bottom: 6px;
        font-size: 14px;
        color: #ccc;
        }

        /* Style du select */
        .select-container select {
        background-color: #222;      /* fond sombre */
        color: white;                /* texte blanc */
        border: 1px solid #444;      /* bordure grise */
        border-radius: 8px;          /* coins arrondis */
        padding: 10px;
        font-size: 16px;
        outline: none;
        appearance: none;            /* supprime la flèche par défaut (personnalisable ensuite) */
        background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg width='10' height='6' viewBox='0 0 10 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23ffffff' d='M0 0l5 6 5-6z'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 10px center;
        background-size: 12px;
        }

        /* Quand on passe la souris dessus */
        .select-container select:hover {
        border-color: #888;
        background-color: #333;
        }

        /* Quand on clique dedans */
        .select-container select:focus {
        border-color: #00bfff; /* bleu clair */
        }

        /* Les options du menu */
        .select-container select option {
        background-color: #222;
        color: white;
        }
        input[type="text"],input[type="number"],input[type="tel"]{
        height: 40px; 
        margin-top: 10px;
        width: 95%;
        background-color: rgba(116, 116, 116, 0.301);
        color: white; 
        border: none; 
        border-radius: 10px; 
        padding: 10px ;
        font-size: 20px;
        }
    input::placeholder{ color: white; }
    .m{ background-color: red; 
        border: none; 
        border-radius: 10px; 
        padding: 10px; 
        font-size: 20px;
    }
    .m:hover{ 
        background-color: white; 
        color: red; 
    }
    .ms{
        display: flex;
        padding: 20px;
        align-items: center;
        justify-content: space-between;
    }
    </style>
</head>
<body>
    <div class="bloc">
        {% if erreur %}
            <div class="alert alert-danger">{{ erreur }}</div>
        {% endif %}
        <h1>Bienvenue sur le formulaire de paiement</h1>
        <h3>Envoyer vos frais d'abonnements en toutes securite et très facilement.</h3>
        <form method="post">
            <div class="service">
                <div class="select-container">
                    <label for="service">Choisir un service :</label>
                    <select id="service" name="service" required>
                        <option value="" disabled selected> Sélectionnez un service </option>
                        {% if service %}
                        <option value="{{service['netflix'][0]}}">{{service['netflix'][0]}}</option>
                        <option value="{{service['netflix'][1]}}">{{service['netflix'][1]}}</option>
                        <option value="{{service['netflix'][2]}}">{{service['netflix'][2]}}</option>
                        <option value="{{service['netflix'][3]}}">{{service['netflix'][3]}}</option>            
                        {%endif%}
                    </select>
                </div>
                <h3></h3>
                <div class="select-container">
                    <label for="moyen">Choisissez un moyen de paiement :</label>
                    <select id="service" name="moyen" required>
                        <option disabled selected> Sélectionnez un moyen de paiement </option>
                        {% if service %}
                        <option value="M-Pesa">M-Pesa</option>
                        <option value="Airtel Money">Airtel Money</option>
                        <option value="Orange Money">Orange Money</option>                    
                        {%endif%}
                    </select>
                </div>
                <input type="text" placeholder="Nom d'utilisateur de votre service" required name="nom_compte">
                <input type="tel" pattern="^\+243[0-9]{9}$" placeholder="Numéro de compte de votre service +234 xx xx xx xxx" required name="numero">
                <input type="number" placeholder="Montant versé" required name="montant"><br>
            </div>
            <p>Grace à ces informations nous allons verifier si c'est réelement vous qui avez envoyé le montant réquis.</p>
            <p>cliquez ici pour copier ce numero et envoyer l'argent dans notre compte : 
            <span style="color:red" class="numero" onclick="copyToClipboard(this)">0973251343</span>
            </p>
            <div class="ms">
                <button class="m" type="submit">Valider</button>
                <button class="m" type="reset">Annuler</button>
                <a style="text-decoration: none; color: black;" class="m" href="{{retour}}">Quitter</a>
            </div> 
        </form>
    </div>
    <script>
        function copyToClipboard(element){
        const text = element.innerText;
        navigator.clipboard.writeText(text).then(()=>{
            alert("Numero copié: "+ text);
        }).catch(err=>{
            console.error("Erreur lors de la copie:",err);
        });
        }
    </script>
</body>
</html>